install.packages("haven")
library (haven)
# Importer le fichier Stata (.dta)
df <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
head(df)
# Importer le fichier Stata (.dta)
df <- read_dta("/Data/ehcvm_menage_SEN2021.dta")
# Importer le fichier Stata (.dta)
df <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
head(df)
# Importer le fichier Stata (.dta)
df <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
head(df)
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
head(ehcvm21_sen)
# Vérifier si le package "haven" est installé, sinon l'installer
if (!requireNamespace("haven", quietly = TRUE)) {
install.packages("haven")
}
# Charger le package haven
library(haven)
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
head(ehcvm21_sen)
View(ehcvm21_sen)
View(ehcvm21_sen)
View(ehcvm21_sen)
View(ehcvm21_sen)
View(ehcvm21_sen)
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
str(ehcvm21_sen)
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
str(ehcvm21_sen)
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
str(ehcvm21_sen)
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
str(ehcvm21_sen)
# Vérifier si le package "haven" est installé, sinon l'installer
# Liste des packages nécessaires
packages <- c("haven", "gtsummary")
# Vérifier et installer les packages manquants
install_if_missing <- function(pkg) {
if (!requireNamespace(pkg, quietly = TRUE)) install.packages(pkg)
}
# Appliquer la vérification à tous les packages listés
invisible(lapply(packages, install_if_missing))
# Charger les packages
library(haven)      # Pour importer les fichiers .dta (Stata)
library(gtsummary)
{r}
names(ehcvm21_sen)
ehcvm21_sen %>%  select(logem, toit,sol) %>%  tbl_summary()
ehcvm21_sen %>% labelled:to_factor()%>%select(logem, toit,sol) %>%  tbl_summary()
# Vérifier si le package "haven" est installé, sinon l'installer
# Liste des packages nécessaires
packages <- c("haven", "gtsummary", "labelled")
# Vérifier et installer les packages manquants
install_if_missing <- function(pkg) {
if (!requireNamespace(pkg, quietly = TRUE)) install.packages(pkg)
}
# Appliquer la vérification à tous les packages listés
invisible(lapply(packages, install_if_missing))
# Charger les packages
library(haven)      # Pour importer les fichiers .dta (Stata)
library(gtsummary)
library(labelled)
ehcvm21_sen %>% labelled:to_factor()%>%select(logem, toit,sol) %>%  tbl_summary()
ehcvm21_sen %>% labelled:to_factor()%>%select(logem, toit,sol) %>%tbl_summary()
ehcvm21_sen %>% to_factor()%>%select(logem, toit,sol) %>%tbl_summary()
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
#str(ehcvm21_sen)
ehcvm21_sen %>% to_factor()%>%select(logem, toit,sol) %>%tbl_summary()
###les tableaux doivent etre explicites. Toujours labelliser
ehcvm21_sen %>% to_factor()%>%select(logem, toit,sol) %>%tbl_summary()
###lDescription
ehcvm21_sen %>% to_factor()%>%select(logem, toit,sol) %>%tbl_summary()
label(list(logem ~ "Type de logement du chef de menage"), toit~"Type de toit", sol~"type de sol")
###lDescription
ehcvm21_sen %>% to_factor()%>%select(logem, toit,sol) %>%tbl_summary(
label(list(logem ~ "Type de logement du chef de menage"), toit~"Type de toit", sol~"type de sol"))
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol"
)
)
modify_header(label ~ "CARAK")
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol"
)
)%>% modify_header(label ~ "CARAK")
Sys.setlocale("LC_CTYPE", "French_France.1252")
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
# Vérifier l'importation (afficher les premières lignes)
#str(ehcvm21_sen)
names(ehcvm21_sen)
ehcvm21_sen %>%  select(logem, toit,sol) %>%  tbl_summary()
Sys.setlocale("LC_CTYPE", "French_France.1252")
names(ehcvm21_sen)
ehcvm21_sen %>%  select(logem, toit,sol) %>%  tbl_summary()
###les tableaux doivent etre explicites. Toujours labelliser
ehcvm21_sen %>% to_factor()%>%select(logem, toit,sol) %>%tbl_summary()
Sys.setlocale("LC_CTYPE", "French_France.1252")
names(ehcvm21_sen)
ehcvm21_sen %>%  select(logem, toit,sol) %>%  tbl_summary()
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol, superf,grosrum) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol",
superf~ "superficie",
grosrum~"Nombre de gros ruminants"
),
statistic = list(grosrum~ "{mean}({sd})", toit~ "{mean}({sd})",sol~ "{mean}({sd})")
)%>% modify_header(label ~ "CARAK") ####MODIFIER LE TITRE DU TAB
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol, superf,grosrum) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol",
superf~ "superficie",
grosrum~"Nombre de gros ruminants"
),
statistic = list(grosrum~ "{mean}({sd})", toit~ "{mean}({sd})",sol~ "{mean}({sd})")
)
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol, superf,grosrum) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol",
superf~ "superficie",
grosrum~"Nombre de gros ruminants"
),
statistic = list(grosrum~ "{mean}({sd})", sol~ "{mean}({sd})")
)
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol, superf,grosrum) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol",
superf~ "superficie",
grosrum~"Nombre de gros ruminants"
),
statistic = list(grosrum~ "{mean}({sd}))
)
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol, superf,grosrum) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol",
superf~ "superficie",
grosrum~"Nombre de gros ruminants"
),
statistic = list(grosrum~ "{mean}({sd})")
)
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol, superf,grosrum) %>%
tbl_summary(
label = list(
logem ~ "Type de logement du chef de ménage",
toit ~ "Type de toit",
sol ~ "Type de sol",
superf~ "superficie",
grosrum~"Nombre de gros ruminants"
),
statistic = list(grosrum~ "{mean}({sd})", superf~ "{mean}({sd})")
)
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(logem, toit, sol, superf,grosrum) %>%
tbl_summary(
statistic = list(grosrum~ "{mean}({sd})", superf~ "{mean}({sd})")
)
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(superf,grosrum) %>%
tbl_summary(
statistic = list(grosrum~ "{mean}({sd})", superf~ "{mean}({sd})")
)
###lDescription
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(superf,grosrum) %>%
tbl_summary(
statistic = list(grosrum~ "{mean}({sd})", superf~ "{mean}({sd})"),digits = everything()~c(0,0)
)
###lDescription
##missing = always pert de toujours afficher les missings
ehcvm21_sen %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(superf,grosrum) %>%
tbl_summary(
statistic = list(grosrum~ "{mean}({sd})", superf~ "{mean}({sd})"),digits = everything()~c(0,0),
missing = "always",
missing_text= "Missing",
)
# Importer le fichier Stata (.dta)
ehcvm21_sen <- read_dta("./Data/ehcvm_menage_SEN2021.dta")
ehcvm21_sen_welfare <- read_dta("./Data/ehcvm_welfare_SEN2021.dta")
#names ou colnames pour afficher les noms des colonnes
names(ehcvm21_sen)
names(ehcvm21_sen_welfare)
#
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hgender,hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
statistic = list(hgender~ "{mean}({sd})", hage~ "{mean}({sd})", hmstat~ "{mean}({sd})", heduc~ "{mean}({sd})"),hdiploma~ "{mean}({sd})",digits = everything()~c(0,0,0,1,0),
missing = "always",
missing_text= "Missing",
)
#
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hgender,hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
statistic = list(hgender~ "{mean}({sd})", hage~ "{mean}({sd})", hmstat~ "{mean}({sd})", heduc~ "{mean}({sd})"),hdiploma~ "{mean}({sd})",digits = everything()~c(0,0,0,1,0),
missing = "always",
missing_text= "Missing"
)
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hgender,hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
statistic = list(hgender~ "{mean}({sd})", hage~ "{mean}({sd})", hmstat~ "{mean}({sd})", heduc~ "{mean}({sd})",hdiploma~ "{mean}({sd})"),digits = everything()~c(0,0,0,1,0),
missing = "always",
missing_text= "Missing"
)
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
statistic = list( hage~ "{mean}({sd})", hmstat~ "{mean}({sd})", heduc~ "{mean}({sd})",hdiploma~ "{mean}({sd})"),digits = everything()~c(0,0,1,0),
missing = "always",
missing_text= "Missing"
)
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
statistic = list( hage~ "{mean}({sd})", heduc~ "{mean}({sd})",hdiploma~ "{mean}({sd})"),digits = everything()~c(0,1,0),
missing = "always",
missing_text= "Missing"
)
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
statistic = list( hage~ "{mean}({sd})"),digits = everything()~c(1)
missing = "always",
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
statistic = list( hage~ "{mean}({sd})"),digits = everything()~c(1),
missing = "always",
missing_text= "Missing"
)
ehcvm21_sen_welfare %>%
to_factor() %>% # Convertir les variables catégorielles en facteurs
select(hage,hmstat,heduc,hdiploma ) %>%
tbl_summary(
#statistic = list( hage~ "{mean}({sd})"),digits = everything()~c(1),
missing = "always",
missing_text= "Missing"
)
